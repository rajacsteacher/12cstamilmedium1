<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12-роЖроорпН ро╡роХрпБрокрпНрокрпБ роХрогро┐ройро┐ роЕро▒ро┐ро╡ро┐ропро▓рпН MCQ родрпЗро░рпНро╡рпБ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            /* font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; -- роЗроирпНрод ро╡ро░ро┐ роЕроХро▒рпНро▒рокрпНрокроЯрпНроЯродрпБ */
        }
        body {
            background-color: #000;
            color: #fff;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* ЁЯЯв родро┐ро░рпБродрпНродрокрпНрокроЯрпНроЯ ро╡ро░ро┐: Noto Sans Tamil-роР роорпБродройрпНроорпИ роОро┤рпБродрпНродрпБро░рпБро╡ро╛роХроЪрпН роЪрпЗро░рпНродрпНродро▓рпН */
            font-family: 'Noto Sans Tamil', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border-bottom: 2px solid #4a90e2;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #4a90e2;
        }
        .subtitle {
            color: #aaa;
            font-size: 1.2rem;
        }
        .form-container, .quiz-container, .result-container, #chapter-selection-container {
            background-color: #111;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a90e2;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #444;
            background-color: #222;
            color: #fff;
            font-size: 1rem;
        }
        select:focus, input:focus {
            outline: none;
            border-color: #4a90e2;
        }
        .btn {
            background: linear-gradient(to right, #4a90e2, #5e60ce);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            margin-top: 10px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(94, 96, 206, 0.4);
        }
        .btn:active {
            transform: translateY(0);
        }
        .btn-submit {
            background: linear-gradient(to right, #27ae60, #2ecc71);
        }
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        .question-counter {
            background: #222;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
        }
        .question-text {
            font-size: 1.4rem;
            line-height: 1.6;
            margin-bottom: 25px;
            padding: 15px;
            background: #1a1a1a;
            border-radius: 10px;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .option {
            padding: 15px;
            background: #222;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }
        .option:hover {
            background: #2a2a2a;
        }
        .option input {
            margin-right: 15px;
            width: auto;
            height: 20px;
            cursor: pointer;
        }
        .option label {
            cursor: pointer;
            font-size: 1.1rem;
            color: #ddd;
            font-weight: normal;
        }
        .feedback {
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .correct-feedback {
            background-color: #27ae60;
            color: white;
        }
        .incorrect-feedback {
            background-color: #e74c3c;
            color: white;
        }
        .result-container {
            text-align: center;
        }
        .result-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #4a90e2;
        }
        .result-details {
            font-size: 1.3rem;
            line-height: 2;
            margin-bottom: 30px;
        }
        .result-details span {
            color: #4a90e2;
            font-weight: 600;
        }
        .hidden {
            display: none;
        }
        #chapters-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }
        #chapters-list label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        #chapters-list input[type="checkbox"] {
            margin-right: 10px;
            width: auto;
        }
        @media (max-width: 600px) {
            .container {
                padding: 0 15px;
            }
            h1 {
                font-size: 2rem;
            }
            .question-text {
                font-size: 1.2rem;
            }
            .option label {
                font-size: 1rem;
            }
            .btn {
                width: 100%;
                padding: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>12-роЖроорпН ро╡роХрпБрокрпНрокрпБ роХрогро┐ройро┐ роЕро▒ро┐ро╡ро┐ропро▓рпН MCQ родрпЗро░рпНро╡рпБ</h1>
            <p class="subtitle">роЗропро▓рпН 1 роорпБродро▓рпН 5 ро╡ро░рпИ тАУ родрооро┐ро┤рпН ро╡ро┤ро┐</p>
        </header>

        <div id="form-container" class="form-container">
            <h2>рооро╛рогро╡ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h2>
            <div class="form-group">
                <label for="student-name">роорпБро┤рпБрокрпН рокрпЖропро░рпН</label>
                <input type="text" id="student-name" placeholder="роЙроЩрпНроХро│рпН рокрпЖропро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН" required>
            </div>
            <div class="form-group">
                <label for="school-name">рокро│рпНро│ро┐ рокрпЖропро░рпН</label>
                <input type="text" id="school-name" placeholder="рокро│рпНро│ро┐ рокрпЖропро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН" required>
            </div>
            <div class="form-group">
                <label for="class-section">ро╡роХрпБрокрпНрокрпБ рокро┐ро░ро┐ро╡рпБ</label>
                <select id="class-section" required>
                    <option value="">родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                </select>
            </div>
            <button id="start-quiz" class="btn">родрпЗро░рпНро╡рпИродрпН родрпКроЯроЩрпНроХрпБ</button>
        </div>

        <div id="chapter-selection-container" class="form-container hidden">
            <h2>роЕродрпНродро┐ропро╛ропроЩрпНроХро│рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</h2>
            <p>роТройрпНро▒рпБ роЕро▓рпНро▓родрпБ роЕродро┐роХрооро╛рой роЕродрпНродро┐ропро╛ропроЩрпНроХро│рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:</p>
            <div id="chapters-list"></div>
            <button id="show-quiz-btn" class="btn">родрпЗро░рпНро╡рпИроХрпН роХро╛роЯрпНроЯрпБ</button>
        </div>

        <div id="quiz-container" class="quiz-container hidden">
            <div class="quiz-header">
                <div class="question-counter">роХрпЗро│рпНро╡ро┐ <span id="current-question">1</span> / <span id="total-questions">10</span></div>
            </div>
            <div id="question-text" class="question-text"></div>
            <div id="options-container" class="options-container"></div>
            <div id="feedback" class="feedback hidden"></div>
            <button id="next-btn" class="btn">роЕроЯрпБродрпНрод роХрпЗро│рпНро╡ро┐</button>
        </div>

        <div id="result-container" class="result-container hidden">
            <h2 class="result-title">родрпЗро░рпНро╡рпБ роорпБроЯро┐ро╡рпБроХро│рпН</h2>
            <div class="result-details">
                <p>рокрпЖропро░рпН: <span id="result-name"></span></p>
                <p>рокро│рпНро│ро┐: <span id="result-school"></span></p>
                <p>ро╡роХрпБрокрпНрокрпБ: <span id="result-class"></span></p>
                <p>роЕродрпНродро┐ропро╛ропроорпН(роХро│рпН): <span id="result-chapter"></span></p>
                <p>роородро┐рокрпНрокрпЖрогрпН: <span id="result-score"></span></p>
                <p>роЪро░ро┐ропро╛рой ро╡ро┐роЯрпИроХро│рпН: <span id="result-correct"></span></p>
                <p>родро╡ро▒ро╛рой ро╡ро┐роЯрпИроХро│рпН: <span id="result-wrong"></span></p>
                <p>ро╡ро┐роЯрпНроЯрпБроЪрпНроЪрпЖройрпНро▒ роХрпЗро│рпНро╡ро┐роХро│рпН: <span id="result-skipped"></span></p>
            </div>
            <button id="restart-btn" class="btn">роорпАрогрпНроЯрпБроорпН родрпКроЯроЩрпНроХрпБ</button>
            <button id="whatsapp-share-btn" class="btn" style="background: linear-gradient(to right, #25D366, #128C7E); margin-top: 15px;">WhatsApp роорпВро▓роорпН рокроХро┐ро░рпН</button>
        </div>
    </div>

    <script>
        // тЬЕ EXACT MCQs from your DOCX (Chapters 1тАУ5, Tamil with (роЕ), (роЖ), etc.)
        const mcqData = {
            "1": [
                { question: "роТро░рпБ роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роЪрпЖропро▓рпИроЪрпН роЪрпЖропрпНро╡родро▒рпНроХро╛роХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН роХрпБро▒ро┐роорпБро▒рпИропро┐ройрпН роЪро┐ро▒ро┐роп рокроХрпБродро┐ропрпЗ", options: ["(роЕ) родрпБрогрпИ роиро┐ро░ро▓рпНроХро│рпН", "(роЖ) роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) Pseudo", "(роИ) родрпКроХрпБродро┐роХро│рпН"], answer: 0 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОроирпНрод роЕро▓роХрпБ роТро░рпБ рокрпЖро░ро┐роп роиро┐ро░ро▓рпН роХроЯрпНроЯроорпИрокрпНрокро┐ро▓рпН ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ?", options: ["(роЕ) родрпБрогрпИ роиро┐ро░ро▓рпНроХро│рпН", "(роЖ) роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) роХрпЛрокрпНрокрпБроХро│рпН", "(роИ) родрпКроХрпБродро┐роХро│рпН"], answer: 1 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОродрпБ родройро┐родрпНродройрпНроорпИропро╛рой родрпКроЯро░ро┐ропро▓рпН родрпКроХрпБродро┐роХро│рпИроХрпН роХрпКрогрпНроЯродро╛роХрпБроорпН?", options: ["(роЕ) родрпБрогрпИ роиро┐ро░ро▓рпНроХро│рпН", "(роЖ) роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) ро╡ро░рпИропро▒рпИ", "(роИ) родрпКроХрпБродро┐роХро│рпН"], answer: 2 },
                { question: "роЪрпЖропро▒рпНроХрпВро▒рпБ ро╡ро░рпИропро▒рпИропро┐ро▓рпН роЙро│рпНро│ рооро╛ро▒ро┐роХро│рпН роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) родрпБрогрпИ роиро┐ро░ро▓рпНроХро│рпН", "(роЖ) роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) роЕро│рокрпБро░рпБроХрпНроХро│рпН", "(роИ) роЪрпЖропро▓рпБро░рпБрокрпБ"], answer: 2 },
                { question: "роЪрпЖропро▒рпНроХрпВро▒рпБ ро╡ро░рпИропро▒рпИроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН роородро┐рокрпНрокрпБроХро│рпН роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) роЪрпЖропро▓рпБро░рпБрокрпБроХро│рпН", "(роЖ) родрпБрогрпИ роиро┐ро░ро▓рпНроХро│рпН", "(роЗ) роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роИ) роЪрпЖропро▒рпНроХрпВро▒рпБ"], answer: 0 },
                { question: "родро░ро╡рпБ ро╡роХрпИ роХрпБро▒ро┐рокрпНрокрпБ роОро┤рпБродрпБроорпНрокрпЛродрпБ, роОродрпБ роХроЯрпНроЯро╛ропрооро╛роХро┐ро▒родрпБ?", options: ["(роЕ) {}", "(роЖ) ()", "(роЗ) []", "(роИ) <>"], answer: 1 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОродрпБ роТро░рпБ рокрпКро░рпБро│рпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯро┐ропродрпИ родрпАро░рпНрооро╛ройро┐роХрпНроХро┐ро▒родрпБ?", options: ["(роЕ) роЗропроХрпНроХ роЕроорпИрокрпНрокрпБ", "(роЖ) роиро┐ро░ро▓рпН рокрпЖропро░рпНрокрпНрокро┐", "(роЗ) роЗроЯрпИроорпБроХроорпН", "(роИ) родрпКроХрпБрокрпНрокро╛ройрпН"], answer: 2 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОродрпБ роЗроЯрпИроорпБроХродрпНродро┐ро▓рпН ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпНроЯ роХроЯрпНроЯро│рпИроХро│рпИ роиро┐ро▒рпИро╡рпЗро▒рпНро▒рпБроХро┐ро▒родрпБ?", options: ["(роЕ) роЗропроХрпНроХ роЕроорпИрокрпНрокрпБ", "(роЖ) роиро┐ро░ро▓рпН рокрпЖропро░рпНрокрпНрокро┐", "(роЗ) роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБродро▓рпН", "(роИ) родрпКроХрпБрокрпНрокро╛ройрпН"], answer: 2 },
                { question: "роТро░рпЗ рооро╛родро┐ро░ро┐ропро╛рой роЕродрпЗ роЕро│рокрпБро░рпБроХрпНроХро│рпИ роЪрпЖропро▒рпНроХрпВро▒рпБро╡ро┐ро▒рпНроХрпБ роЕройрпБрокрпНрокро┐ройро╛ро▓рпН роТро░рпЗ рооро╛родро┐ро░ро┐ропро╛рой ро╡ро┐роЯрпИропрпИродрпН родро░рпБроорпН роЪрпЖропро▒рпНроХрпВро▒рпБ роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН?", options: ["(роЕ) Impure роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЖ) Partial роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) Dynamic роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роИ) Pure роЪрпЖропро▒рпНроХрпВро▒рпБ"], answer: 3 },
                { question: "роЕро│рокрпБро░рпБроХрпНроХро│рпИ роЕройрпБрокрпНрокрпБроорпН рокрпЛродрпБ рокроХрпНроХ ро╡ро┐ро│рпИро╡рпБроХро│рпИ роПро▒рпНрокроЯрпБродрпНродрпБроорпН роЪрпЖропро▒рпНроХрпВро▒рпБ роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН?", options: ["(роЕ) Impure роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЖ) Partial роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роЗ) Dynamic роЪрпЖропро▒рпНроХрпВро▒рпБ", "(роИ) Pure роЪрпЖропро▒рпНроХрпВро▒рпБ"], answer: 0 }
            ],
            "2": [
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОроирпНрод роЪрпЖропро▒рпНроХрпВро▒рпБ роЕро░рпБро╡рооро╛роХрпНроХроорпН родро░ро╡рпБ ро╡роХрпИропрпИ роЙро░рпБро╡роорпИроХрпНроХрокрпН рокропройрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) Constructors", "(роЖ) Destructors", "(роЗ) recursive", "(роИ) Nested"], answer: 0 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОроирпНрод роЪрпЖропро▒рпНроХрпВро▒рпБ родро░ро╡рпБ ро╡роХрпИропро┐ро▓рпН роЗро░рпБроирпНродрпБ родроХро╡ро▓рпНроХро│рпИ роорпАроЯрпНроЯрпЖроЯрпБроХрпНроХрпБроорпН?", options: ["(роЕ) Constructors", "(роЖ) Selectors", "(роЗ) recursive", "(роИ) Nested"], answer: 1 },
                { question: "ро╡ро░ро┐роЪрпИрокрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯ роЙро░рпБрокрпНрокрпБроХро│рпИ рооро╛ро▒рпНро▒роХрпНроХрпВроЯро┐роп родро░ро╡рпБ роХроЯрпНроЯроорпИрокрпНрокрпБ", options: ["(роЕ) Built in", "(роЖ) List", "(роЗ) Tuple", "(роИ) Derived data"], answer: 1 },
                { question: "рооро╛ро▒рпНро▒ роЪрпЖропрпНроп роорпБроЯро┐ропро╛род рокрпКро░рпБро│ро┐ройрпН родрпКроЯро░рпН ро╡ро░ро┐роЪрпИ", options: ["(роЕ) Built in", "(роЖ) List", "(роЗ) Tuple", "(роИ) Derived data"], answer: 2 },
                { question: "роЙро░рпБро╡роорпИрокрпНрокрпБ роЕро▒ро┐ропрокрпНрокроЯрпНроЯ родро░ро╡рпБ ро╡роХрпИ роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.", options: ["(роЕ) Built in datatype", "(роЖ) Derived datatype", "(роЗ) Concrete datatype", "(роИ) Abstract datatype"], answer: 2 },
                { question: "роЙро░рпБро╡роорпИрокрпНрокрпБ роЕро▒ро┐ропрокрпНрокроЯро╛род родро░ро╡рпБ ро╡роХрпИ роОро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ", options: ["(роЕ) Built in datatype", "(роЖ) Derived datatype", "(роЗ) Concrete datatype", "(роИ) Abstract datatype"], answer: 3 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▓рпН роОродрпБ роХро▓ро╡рпИ роЕроорпИрокрпНрокрпБ?", options: ["(роЕ) Pair", "(роЖ) Triplet", "(роЗ) single", "(роИ) quadrat"], answer: 0 },
                { question: "роЗро░рпБ роородро┐рокрпНрокрпБроХро│рпИ роТройрпНро▒ро╛роХ рокро┐рогрпИрокрпНрокрпБ роОроирпНрод ро╡роХрпИ роХро░рпБродрокрпНрокроЯрпБроХро┐ро▒родрпБ.", options: ["(роЕ) single", "(роЖ) Triplet", "(роЗ) Pair", "(роИ) quadrat"], answer: 2 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▓рпН роОродрпБ рокро▓рпН роЙро░рпБрокрпНрокрпБ рокрпКро░рпБро│ро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ рокроХрпБродро┐роХро│рпИ рокрпЖропро░ро┐роЯ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ?", options: ["(роЕ) Classes", "(роЖ) Lists", "(роЗ) Tuples", "(роИ) quadrats"], answer: 0 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▓рпН роОродрпБ роХрпЛро╡рпИроХро│рпИ роЪродрпБро░ роЕроЯрпИрокрпНрокрпБроХрпНроХрпБро▒ро┐роХрпНроХрпБро│рпН ро╡рпИродрпНродрпБ роЙро░рпБро╡роорпИроХро┐ро▒родрпБ", options: ["(роЕ) Tuples", "(роЖ) Lists", "(роЗ) Classes", "(роИ) quadrat"], answer: 1 }
            ],
            "3": [
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒рпБро│рпН роОродрпБ роиро┐ро░ро▓ро┐ройрпН роТро░рпБ рокроХрпБродро┐ропро┐ройрпН роЕрогрпБроХро┐ропро▓рпНрокрпИ рооро▒рпНро▒рпКро░рпБ рокроХрпБродро┐роХрпНроХрпБ роХрпБро▒ро┐рокрпНрокродро╛роХрпБроорпН?", options: ["(роЕ) ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роЖ) роиро┐ройрпИро╡роХроорпН", "(роЗ) роорпБроХро╡ро░ро┐", "(роИ) роЕрогрпБроХрпБроорпБро▒рпИ"], answer: 0 },
                { question: "рооро╛ро▒ро┐ропро┐ройрпН рокрпЖропро░рпИ роТро░рпБ рокрпКро░рпБро│рпБроЯройрпН рокро┐рогрпИроХрпНроХрпБроорпН роЪрпЖропро▓рпНроорпБро▒рпИропрпИ роОройрпНройро╡рпЖройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН?", options: ["(роЕ) ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роЖ) роорпЗрокрпНрокро┐роЩрпН", "(роЗ) рокро┐ройрпН рокро┐рогрпИродрпНродро▓рпН", "(роИ) роорпБройрпН рокро┐рогрпИродрпНродро▓рпН"], answer: 1 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒рпБро│рпН роОродрпБ роиро┐ро░ро▓ро╛роХрпНроХ роорпКро┤ро┐ропро┐ро▓рпН рооро╛ро▒ро┐ропрпИропрпБроорпН рокрпКро░рпБро│рпИропрпБроорпН роорпЗрокрпН роЪрпЖропрпНропрокрпН рокропройрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) ::", "(роЖ) :=", "(роЗ) =", "(роИ) =="], answer: 2 },
                { question: "роОродрпБ рооро╛ро▒ро┐ропро┐ройрпН рокрпЖропро░рпИ рокрпКро░рпБро│рпБроЯройрпН роорпЗрокрпНрокро┐роЩрпН роЪрпЖропрпНро╡родро▒рпНроХро╛рой роЗроЯроорпН роЖроХрпБроорпН.", options: ["(роЕ) ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роЖ) роорпЗрокрпНрокро┐роЩрпН", "(роЗ) рокро┐рогрпИродрпНродро▓рпН", "(роИ) Namespaces"], answer: 3 },
                { question: "роОроирпНрод ро╡ро░рпИропрпЖро▓рпНро▓рпИ роироЯрокрпНрокрпБ роЪрпЖропро▒рпНроХрпВро▒ро┐ро▓рпН ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпБроорпН рооро╛ро▒ро┐роХро│рпИроХрпН роХрпБро▒ро┐роХрпНроХрпБроорпН?", options: ["(роЕ) роЙро│рпНро│роорпИ ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роЖ) роорпБро┤рпБродро│ро╛ро╡ро┐роп ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роЗ) родрпКроХрпБродро┐ ро╡ро░рпИропрпЖро▓рпНро▓рпИ", "(роИ) роЪрпЖропро▒рпНроХрпВро▒рпБ ро╡ро░рпИропрпЖро▓рпНро▓рпИ"], answer: 0 },
                { question: "роТро░рпБ роХрогро┐рокрпНрокрпКро▒ро┐ роиро┐ро░ро▓рпИ рокро▓ родрпБрогрпИ роиро┐ро░ро▓рпНроХро│ро╛роХ рокро┐ро░ро┐роХрпНроХрпБроорпН роЪрпЖропро▓рпНроорпБро▒рпИропрпЗ роОройрпНройро╡рпЖройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроорпН.", options: ["(роЕ) роЪрпЖропро▓рпНроорпБро▒рпИ роиро┐ро░ро▓ро╛роХрпНроХроорпН", "(роЖ) родрпКроХрпБродро┐ роиро┐ро░ро▓ро╛роХрпНроХроорпН", "(роЗ) роиро┐роХро┤рпНро╡рпБ роЗропроХрпНроХ роиро┐ро░ро▓ро╛роХрпНроХроорпН", "(роИ) рокрпКро░рпБро│рпН роирпЛроХрпНроХрпБ роиро┐ро░ро▓ро╛роХрпНроХроорпН"], answer: 1 },
                { question: "роОродрпБ роХрогро┐ройро┐ роЪрпВро┤ро▓ро┐ро▓рпН роЙро│рпНро│ ро╡ро│роЩрпНроХро│рпИ ропро╛ро░рпН рокро╛ро░рпНро╡рпИропро┐роЯ рооро▒рпНро▒рпБроорпН рокропройрпНрокроЯрпБродрпНрод роорпБроЯро┐ропрпБроорпН роОройрпНрокродрпИ ро╡ро░рпИроорпБро▒рпИрокрпНрокроЯрпБродрпНродрпБроорпН роТро░рпБ рокро╛родрпБроХро╛рокрпНрокрпБ родрпКро┤ро┐ро▓рпНроирпБроЯрпНрокрооро╛роХрпБроорпН.", options: ["(роЕ) роХроЯро╡рпБроЪрпН роЪрпКро▓рпН", "(роЖ) роЕроЩрпНроХрпАроХро╛ро░роорпН", "(роЗ) роЕрогрпБроХро▓рпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ", "(роИ) роЪро╛ройрпНро▒ро┐родро┤рпН"], answer: 2 },
                { question: "роОроирпНрод роЗройроХрпНроХрпБро┤рпБро╡ро┐ройрпН роЙро▒рпБрокрпНрокрпБроХро│рпИ роЗройроХрпНроХрпБро┤рпБро╡ро┐ройрпН роЙро│рпНро│рпЗ роороЯрпНроЯрпБроорпНродро╛ройрпН роХрпИропро╛ро│ роорпБроЯро┐ропрпБроорпН.", options: ["(роЕ) public роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЖ) protected роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЗ) pecured роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роИ) private роЙро▒рпБрокрпНрокрпБроХро│рпН"], answer: 3 },
                { question: "роОроирпНрод роЙро▒рпБрокрпНрокрпБроХро│рпИ роЗройроХрпНроХрпБро┤рпБро╡ро┐ро▒рпНроХрпБ ро╡рпЖро│ро┐ропрпЗ роЗро░рпБроирпНродрпБроорпН роЕрогрпБроХ роорпБроЯро┐ропрпБроорпН?", options: ["(роЕ) public роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЖ) protected роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЗ) pecured роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роИ) private роЙро▒рпБрокрпНрокрпБроХро│рпН"], answer: 0 },
                { question: "роОродрпБ ро╡ро░рпИропро▒рпБроХрпНроХрокрпНрокроЯрпНроЯ роЗройроХрпНроХрпБро┤рпБ рооро▒рпНро▒рпБроорпН роЕродройрпН родрпБрогрпИ роЗройроХрпНроХрпБро┤рпБроХрпНроХро│ро╛ро▓рпН роЕрогрпБроХрокрпНрокроЯрпБроорпН роЙро▒рпБрокрпНрокрпБроХро│рпН роЖроХрпБроорпН.", options: ["(роЕ) public роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЖ) protected роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роЗ) pecured роЙро▒рпБрокрпНрокрпБроХро│рпН", "(роИ) private роЙро▒рпБрокрпНрокрпБроХро│рпН"], answer: 1 }
            ],
            "4": [
                { question: "роОроирпНрод роЪрпКро▓рпН рокрпЖро░рпНро╖ро┐роп роХрогро┐родроорпЗродрпИ роЕрокрпБ роЬро╛роГрокро░рпН роорпБроХроородрпБ роЗрокро┐ройрпН-роРроорпБроЪро╛ роЕро▓рпН роХрпМро╡ро╛ро░ро┐ро╕рпНрооро┐ рокрпЖропро░ро┐ро▓рпН роЗро░рпБроирпНродрпБ ро╡роирпНродродрпБ?", options: ["(роЕ) Flowchart", "(роЖ) Flow", "(роЗ) Algorithm", "(роИ) Syntax"], answer: 2 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН ро╡ро░ро┐роЪрпИропро╛роХрпНроХ роирпЖро▒ро┐роорпБро▒рпИропро┐ро▓рпН, роОроирпНрод роирпЖро▒ро┐роорпБро▒рпИроХрпНроХрпБ роХрпБро▒рпИроирпНрод роОрогрпНрогро┐роХрпНроХрпИропро┐ро▓ро╛рой роЗроЯрооро╛ро▒рпНро▒роорпН родрпЗро╡рпИрокрпНрокроЯрпБроорпН?", options: ["(роЕ) роХрпБрооро┐ро┤ро┐", "(роЖ) ро╡ро┐ро░рпИро╡рпБ", "(роЗ) родрпЗро░рпНроирпНродрпЖроЯрпБрокрпНрокрпБ", "(роИ) роЕройрпИродрпНродрпБроорпН"], answer: 2 },
                { question: "роирпЖро▒ро┐роорпБро▒рпИропро┐ройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпИ роЕро│ро╡ро┐роЯ роЗро░рогрпНроЯрпБ роорпБроХрпНроХро┐роп роЕро│ро╡рпАроЯрпБроХро│рпН роОро╡рпИ?", options: ["(роЕ) роЪрпЖропро▓ро┐ рооро▒рпНро▒рпБроорпН роиро┐ройрпИро╡роХроорпН", "(роЖ) роЪро┐роХрпНроХро▓рпН рооро▒рпНро▒рпБроорпН роХрпКро│рпНро│ро│ро╡рпБ", "(роЗ) роирпЗро░роорпН рооро▒рпНро▒рпБроорпН роЗроЯроорпН", "(роИ) родро░ро╡рпБ рооро▒рпНро▒рпБроорпН роЗроЯроорпН"], answer: 2 },
                { question: "роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН роЙро│рпНро│рпАроЯрпНроЯрпБроХрпНроХрпБ роОродро┐ро░рпНрокро╛ро░рпНроХрпНроХрокроЯрпБроорпН ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпИ родро░рпБроорпН роирпЖро▒ро┐роорпБро▒рпИ роЗро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХрокроЯрпБроХро┐ро▒родрпБ.", options: ["(роЕ) роирпЖро▒ро┐роорпБро▒рпИроЪро╛ро░рпН родрпАро░рпНро╡рпБ", "(роЖ) роирпЖро▒ро┐роорпБро▒рпИроЪро╛ро░рпН ро╡рпЖро│ро┐ропрпАроЯрпБ", "(роЗ) роирпЖро▒ро┐роорпБро▒рпИроЪро╛ро░рпН роЪро┐роХрпНроХро▓рпН", "(роИ) роирпЖро▒ро┐роорпБро▒рпИроЪро╛ро░рпН роХрпБро▒ро┐роорпБро▒рпИ"], answer: 0 },
                { question: "роТро░рпБ роирпЖро▒ро┐роорпБро▒рпИропро┐ро▓рпН рооро┐роХроорпЛроЪрооро╛рой роиро┐ро▓рпИропрпИ роХрпБро▒ро┐роХрпНроХ рокро┐ройрпНро╡ро░рпБроорпН роОродрпБ рокропройрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) Big A", "(роЖ) Big S", "(роЗ) Big W", "(роИ) Big O"], answer: 3 },
                { question: "Big $\\Omega$ роЗродройрпН роОродро┐ро░рпН рокродрооро╛ройродрпБ:", options: ["(роЕ) Big O", "(роЖ) Big $\\Theta$", "(роЗ) Big A", "(роИ) Big S"], answer: 0 },
                { question: "роЗро░рпБроородрпН родрпЗроЯро▓рпН роЗро╡рпНро╡ро╛ро▒рпБроорпН роЕро┤рпИроХрпНроХрокроЯрпБроорпН.", options: ["(роЕ) ро╡ро░ро┐роЪрпИроорпБро▒рпИродрпН родрпЗроЯро▓рпН", "(роЖ) родрпКроЯро░рпН родрпЗроЯро▓рпН", "(роЗ) родрпКроЯро░ро▒рпНро▒ родрпЗроЯро▓рпН", "(роИ) роЗроЯрпИро╡рпЖро│ро┐родрпН родрпЗроЯро▓рпН"], answer: 3 },
                { question: "$\\Omega$ роОройрпНро▒ роХрпБро▒ро┐ропрпАроЯрпБ asymptotic роородро┐рокрпНрокрпАроЯрпНроЯро┐ро▓рпН роОродрпИроХрпН роХрпБро▒ро┐роХрпНроХро┐ро▒родрпБ?", options: ["(роЕ) роЕроЯро┐рокрпНрокрпИроЯрпИ роиро┐ро▓рпИ", "(роЖ) рооро┐родрооро╛рой роиро┐ро▓рпИ", "(роЗ) роорпЛроЪрооро╛рой роиро┐ро▓рпИ", "(роИ) NULL роиро┐ро▓рпИ"], answer: 0 },
                { question: "роТро░рпБ роЪро┐роХрпНроХро▓рпН родрпБрогрпИроЪрпН роЪро┐роХрпНроХро▓рпНроХро│ро╛роХ рокро┐ро░ро┐родрпНродрпБ роЕродройрпИ рокро▓ роорпБро▒рпИ рокропройрпНрокроЯрпБродрпНродро┐ройро╛ро▓рпН, роЕроирпНрод роЪро┐роХрпНроХро▓рпН роОроирпНрод рокрогрпНрокрпИ рокрпЖро▒рпБроорпН?", options: ["(роЕ) роТройрпНро▒рпЛроЯрпБ роТройрпНро▒ро┐рогрпИроирпНрод родрпБрогрпИроЪрпНроЪро┐роХрпНроХро▓рпН", "(роЖ) роЙроХроирпНрод родрпБрогрпИ роХроЯрпНроЯроорпИрокрпНрокрпБ", "(роЗ) роиро┐ройрпИро╡ро┐ро░рпБродрпНродро▓рпН", "(роИ) рокрпКро▒ро╛роорпИ"], answer: 0 },
                { question: "роЗропроЩрпНроХрпБ роиро┐ро░ро▓ро╛роХрпНроХродрпНродро┐ро▓рпН, роПро▒рпНроХройро╡рпЗ роХрогроХрпНроХрпАроЯрпБ роЪрпЖропрпНрод роородро┐рокрпНрокрпБроХро│рпИ роЪрпЗрооро┐роХрпНроХрпБ ропрпБроХрпНродро┐ропрпИ роЗро╡рпНро╡ро╛ро▒рпБ роЕро┤рпИроХрпНроХро▓ро╛роорпН.", options: ["(роЕ) роородро┐рокрпНрокрпИ роЪрпЗрооро┐роХрпНроХрпБроорпН рокрогрпНрокрпБ", "(роЖ) роородро┐рокрпНрокрпИ роЪрпЗроХро░ро┐роХрпНроХрпБроорпН рокрогрпНрокрпБ", "(роЗ) роиро┐ройрпИро╡ро┐ро░рпБродрпНродро▓рпН", "(роИ) рокроЯрооро┐роЯро▓рпН"], answer: 2 }
            ],
            "5": [
                { question: "рокрпИродрпНродро╛ройрпИ роЙро░рпБро╡ро╛роХрпНроХро┐ропро╡ро░рпН ропро╛ро░рпН?", options: ["(роЕ) ро░ро┐роЯрпНро╕рпА", "(роЖ) роХрпИроЯрпЛ ро╡ро╛ройрпН ро░рпЛро╖роорпН", "(роЗ) рокро┐ро▓рпН роХрпЗроЯрпНро╕рпН", "(роИ) роЪрпБроирпНродро░рпН рокро┐роЪрпНроЪрпИ"], answer: 1 },
                { question: "роЗро╡ро▒рпНро▒рпБро│рпН роОроирпНрод родрпВрогрпНроЯрпБ роХрпБро▒ро┐ роиро┐ро░ро▓рпН рокрпЖропро░рпНрокрпНрокро┐ роХроЯрпНроЯро│рпИроХро│рпИ роПро▒рпНро▒рпБ роХрпКро│рпНро│ родропро╛ро░рпН роиро┐ро▓рпИропро┐ро▓рпН роЗро░рпБрокрпНрокродрпИ роХрпБро▒ро┐роХрпНроХро┐ро▒родрпБ?", options: ["(роЕ) >>>", "(роЖ) #", "(роЗ) $", "(роИ) <<"], answer: 0 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОроирпНрод роЪро╛ро╡ро┐ роЪрпЗро░рпНрооро╛ройроорпН роУро░рпН рокрпБродро┐роп рокрпИродрпНродро╛ройрпН роиро┐ро░ро▓рпИ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокропройрпНрокроЯрпБроХро┐ро▒родрпБ.", options: ["(роЕ) Ctrl+C", "(роЖ) Ctrl+B", "(роЗ) Ctrl+F", "(роИ) Ctrl+N"], answer: 3 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОроирпНрод роХрпБро▒ро┐ропрпБро░рпБ рокрпИродрпНродро╛ройрпН роиро┐ро░ро▓ро┐ро▓рпН роХрпБро▒ро┐рокрпНрокрпБроХро│рпИ роЙро│рпНро│рпАроЯрпБ роЪрпЖропрпНроп рокропройрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) #", "(роЖ) &", "(роЗ) @", "(роИ) $"], answer: 0 },
                { question: "роОроирпНрод роХрпБро▒ро┐ роТройрпНро▒рпБроХрпНроХрпБ роорпЗро▒рпНрокроЯрпНроЯ роЙро▒рпБрокрпНрокрпБроХро│рпИ роТро▒рпНро▒рпИ ро╡ро░ро┐ропро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБроорпН", options: ["(роЕ) роЕро░рпИрокрпНрокрпБро│рпНро│ро┐", "(роЖ) роЯро╛ро▓ро░рпН", "(роЗ) роХро╛ро▒рпНрокрпБро│рпНро│ро┐", "(роИ) роорпБроХрпНроХро╛ро▒рпНрокрпБро│рпНро│ро┐"], answer: 2 },
                { question: "рокро┐ройрпНро╡ро░рпБроорпН роОродрпБ ро╡ро┐ро▓рпНро▓рпИроХро│рпН роХро┐роЯрпИропро╛родрпБ?", options: ["(роЕ) роиро┐ро░ро▓рпНрокрпЖропро░рпНрокрпНрокро┐", "(роЖ) роХрпБро▒ро┐рокрпНрокрпЖропро░рпНроХро│рпН", "(роЗ) роЪро┐ро▒рокрпНрокрпБроЪрпН роЪрпКро▒рпНроХро│рпН", "(роИ) роЪрпЖропро▒рпНроХрпБро▒ро┐роХро│рпН"], answer: 0 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▓рпН роОродрпБ рокрпИродрпНродро╛ройрпН роЪро┐ро▒рокрпНрокрпБроЪрпН роЪрпКро▓рпН роХро┐роЯрпИропро╛родрпБ?", options: ["(роЕ) break", "(роЖ) while", "(роЗ) continue", "(роИ) operators"], answer: 3 },
                { question: "роОроирпНрод роЪрпЖропро▒рпНроХрпБро▒ро┐ропрпИ роТрокрпНрокрпАроЯрпБ роЪрпЖропро▒рпНроХрпБро▒ро┐ роОройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) роХрогроХрпНроХрпАроЯрпБ", "(роЖ) родрпКроЯро░рпНрокрпБроЯрпИроп", "(роЗ) родро░рпБроХрпНроХ", "(роИ) роородро┐рокрпНрокро┐ро░рпБродрпНродро▓рпН"], answer: 1 },
                { question: "рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▓рпН роОродрпБ родро░рпБроХрпНроХ роЪрпЖропро▒рпНроХрпБро▒ро┐ роХро┐роЯрпИропро╛родрпБ?", options: ["(роЕ) and", "(роЖ) or", "(роЗ) not", "(роИ) like"], answer: 3 },
                { question: "роОроирпНрод роЪрпЖропро▒рпНроХрпБро▒ро┐ роиро┐рокроирпНродройрпИ роЪрпЖропро▒рпНроХрпБро▒ро┐ роОройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ?", options: ["(роЕ) роорпБроорпНроо роЪрпЖропро▒рпНроХрпБро▒ро┐", "(роЖ) родрпКроЯро░рпНрокрпБроЯрпИроп", "(роЗ) родро░рпБроХрпНроХ", "(роИ) роородро┐рокрпНрокро┐ро░рпБродрпНродро▓рпН"], answer: 0 }
            ]
        };

        const chapterNames = {
            "1": "роЗропро▓рпН 1: роЪрпЖропро▒рпНроХрпВро▒рпБ (Function)",
            "2": "роЗропро▓рпН 2: родро░ро╡рпБ роЕро░рпБро╡рооро╛роХрпНроХроорпН (Data Abstraction)",
            "3": "роЗропро▓рпН 3: ро╡ро░рпИропрпЖро▓рпНро▓рпИ (Scoping)",
            "4": "роЗропро▓рпН 4: роирпЖро▒ро┐роорпБро▒рпИропро┐ройрпН ропрпБроХрпНродро┐роХро│рпН (Algorithmic Strategies)",
            "5": "роЗропро▓рпН 5: рокрпИродрпНродро╛ройрпН роЕро▒ро┐роорпБроХроорпН - рооро╛ро▒ро┐роХро│рпН рооро▒рпНро▒рпБроорпН роЪрпЖропро▒рпНроХрпБро▒ро┐роХро│рпН (Python Introduction - Variables and Operators)"
        };

        // DOM elements
        const formContainer = document.getElementById('form-container');
        const chapterSelectionContainer = document.getElementById('chapter-selection-container');
        const quizContainer = document.getElementById('quiz-container');
        const resultContainer = document.getElementById('result-container');
        const startBtn = document.getElementById('start-quiz');
        const showQuizBtn = document.getElementById('show-quiz-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const whatsappShareBtn = document.getElementById('whatsapp-share-btn');
        const studentNameInput = document.getElementById('student-name');
        const schoolNameInput = document.getElementById('school-name');
        const classSectionSelect = document.getElementById('class-section');
        const chaptersListEl = document.getElementById('chapters-list');
        const currentQuestionEl = document.getElementById('current-question');
        const totalQuestionsEl = document.getElementById('total-questions');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const feedbackEl = document.getElementById('feedback');
        const resultNameEl = document.getElementById('result-name');
        const resultSchoolEl = document.getElementById('result-school');
        const resultClassEl = document.getElementById('result-class');
        const resultChapterEl = document.getElementById('result-chapter');
        const resultScoreEl = document.getElementById('result-score');
        const resultCorrectEl = document.getElementById('result-correct');
        const resultWrongEl = document.getElementById('result-wrong');
        const resultSkippedEl = document.getElementById('result-skipped');

        // State
        let questions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let skippedQuestions = 0;
        let studentInfo = {};

        // Event listeners
        startBtn.addEventListener('click', startQuiz);
        showQuizBtn.addEventListener('click', showQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartQuiz);
        whatsappShareBtn.addEventListener('click', shareViaWhatsApp);

        function startQuiz() {
            if (!studentNameInput.value.trim() || !schoolNameInput.value.trim() || !classSectionSelect.value) {
                alert('роЕройрпИродрпНродрпБ рокрпБро▓роЩрпНроХро│рпИропрпБроорпН роиро┐ро░рокрпНрокро╡рпБроорпН');
                return;
            }
            studentInfo = {
                name: studentNameInput.value.trim(),
                school: schoolNameInput.value.trim(),
                class: classSectionSelect.value
            };
            chaptersListEl.innerHTML = '';
            for (const key in mcqData) {
                const label = document.createElement('label');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.value = key;
                const span = document.createElement('span');
                span.textContent = chapterNames[key];
                label.appendChild(checkbox);
                label.appendChild(span);
                chaptersListEl.appendChild(label);
            }
            formContainer.classList.add('hidden');
            chapterSelectionContainer.classList.remove('hidden');
        }

        function showQuiz() {
            const selected = chaptersListEl.querySelectorAll('input:checked');
            if (selected.length === 0) {
                alert('роХрпБро▒рпИроирпНродродрпБ роТро░рпБ роЕродрпНродро┐ропро╛ропродрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.');
                return;
            }
            questions = [];
            selected.forEach(cb => questions.push(...mcqData[cb.value]));
            const selectedChapters = Array.from(selected).map(cb => chapterNames[cb.value]).join(', ');
            studentInfo.chapter = selectedChapters;
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            correctAnswers = 0;
            wrongAnswers = 0;
            skippedQuestions = 0;
            totalQuestionsEl.textContent = questions.length;
            showQuestion();
            chapterSelectionContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
        }

        function showQuestion() {
            const q = questions[currentQuestionIndex];
            currentQuestionEl.textContent = currentQuestionIndex + 1;
            questionTextEl.innerHTML = q.question;
            MathJax.typesetPromise([questionTextEl]).catch(console.error);
            optionsContainerEl.innerHTML = '';
            q.options.forEach((opt, idx) => {
                const el = document.createElement('div');
                el.className = 'option';
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'answer';
                radio.id = `opt-${idx}`;
                radio.value = idx;
                const lbl = document.createElement('label');
                lbl.htmlFor = `opt-${idx}`;
                lbl.textContent = opt;
                el.appendChild(radio);
                el.appendChild(lbl);
                optionsContainerEl.appendChild(el);
                radio.addEventListener('change', () => {
                    userAnswers[currentQuestionIndex] = idx;
                    checkAnswer();
                });
            });
            if (userAnswers[currentQuestionIndex] !== null) {
                document.getElementById(`opt-${userAnswers[currentQuestionIndex]}`).checked = true;
            }
            feedbackEl.className = 'feedback hidden';
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'родрпЗро░рпНро╡рпИ роЪрооро░рпНрокрпНрокро┐' : 'роЕроЯрпБродрпНрод роХрпЗро│рпНро╡ро┐';
            nextBtn.classList.toggle('btn-submit', currentQuestionIndex === questions.length - 1);
        }

        function checkAnswer() {
            const sel = userAnswers[currentQuestionIndex];
            const corr = questions[currentQuestionIndex].answer;
            document.querySelectorAll('.option').forEach(opt => opt.style.backgroundColor = '#222');
            const selOpt = document.querySelector(`#opt-${sel}`).closest('.option');
            const corrOpt = document.querySelector(`#opt-${corr}`).closest('.option');
            
            // Check if the answer has already been evaluated for this question
            const currentAnswer = userAnswers[currentQuestionIndex];
            const previousResult = questions[currentQuestionIndex].result; // Store the result state on the question object
            
            if (previousResult === undefined) { // Only evaluate and count if not done already
                if (sel === corr) {
                    questions[currentQuestionIndex].result = 'correct';
                    correctAnswers++;
                } else {
                    questions[currentQuestionIndex].result = 'incorrect';
                    wrongAnswers++;
                }
            }
            
            if (sel === corr) {
                selOpt.style.backgroundColor = '#27ae60';
                feedbackEl.textContent = 'роЪро░ро┐! роиройрпНро▒рпБ!';
                feedbackEl.className = 'feedback correct-feedback';
            } else {
                if (selOpt) selOpt.style.backgroundColor = '#e74c3c';
                if (corrOpt) corrOpt.style.backgroundColor = '#27ae60';
                feedbackEl.textContent = 'родро╡ро▒рпБ! роЪро░ро┐ропро╛рой ро╡ро┐роЯрпИ рокроЪрпНроЪрпИ роиро┐ро▒родрпНродро┐ро▓рпН родрпЖро░ро┐роХро┐ро▒родрпБ.';
                feedbackEl.className = 'feedback incorrect-feedback';
            }
            
            feedbackEl.classList.remove('hidden');
            document.querySelectorAll('input[name="answer"]').forEach(r => r.disabled = true);
        }

        function nextQuestion() {
            // Recalculate counts based on stored results before moving
            let totalCorrect = 0;
            let totalWrong = 0;
            let totalSkipped = 0;
            
            // Mark current question as skipped if no answer was selected before moving
            if (userAnswers[currentQuestionIndex] === null && questions[currentQuestionIndex].result === undefined) {
                questions[currentQuestionIndex].result = 'skipped';
            }

            questions.forEach(q => {
                if (q.result === 'correct') {
                    totalCorrect++;
                } else if (q.result === 'incorrect') {
                    totalWrong++;
                } else if (q.result === 'skipped') {
                    totalSkipped++;
                }
            });

            correctAnswers = totalCorrect;
            wrongAnswers = totalWrong;
            skippedQuestions = totalSkipped;

            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                submitQuiz();
            }
        }

        function submitQuiz() {
            // Final calculation for the results screen
            let totalCorrect = 0;
            let totalWrong = 0;
            let totalSkipped = 0;
            
            questions.forEach(q => {
                if (q.result === 'correct') {
                    totalCorrect++;
                } else if (q.result === 'incorrect') {
                    totalWrong++;
                } else if (q.result === 'skipped') {
                    totalSkipped++;
                } else if (q.result === undefined) {
                    totalSkipped++; // Count unanswered questions at the end as skipped
                }
            });

            correctAnswers = totalCorrect;
            wrongAnswers = totalWrong;
            skippedQuestions = totalSkipped;

            resultNameEl.textContent = studentInfo.name;
            resultSchoolEl.textContent = studentInfo.school;
            resultClassEl.textContent = studentInfo.class;
            resultChapterEl.textContent = studentInfo.chapter;
            resultScoreEl.textContent = `${correctAnswers} / ${questions.length}`;
            resultCorrectEl.textContent = correctAnswers;
            resultWrongEl.textContent = wrongAnswers;
            resultSkippedEl.textContent = skippedQuestions;
            quizContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');
        }

        function restartQuiz() {
            resultContainer.classList.add('hidden');
            formContainer.classList.remove('hidden');
            studentNameInput.value = '';
            schoolNameInput.value = '';
            classSectionSelect.value = '';
            questions.forEach(q => delete q.result); // Clear previous results
        }

        function shareViaWhatsApp() {
            const { name, chapter } = studentInfo;
            const msg = encodeURIComponent(
                `ро╡рогроХрпНроХроорпН! роиро╛ройрпН "${chapter}" родро▓рпИрокрпНрокро┐ро▓рпН 12-роЖроорпН ро╡роХрпБрокрпНрокрпБ роХрогро┐ройро┐ роЕро▒ро┐ро╡ро┐ропро▓рпН MCQ родрпЗро░рпНро╡ро┐ро▓рпН ${correctAnswers}/${questions.length} роородро┐рокрпНрокрпЖрогрпН рокрпЖро▒рпНро▒рпЗройрпН. роирпАроЩрпНроХро│рпБроорпН роорпБропро▒рпНроЪро┐ропрпБроЩрпНроХро│рпН!`
            );
            window.open(`https://wa.me/?text=${msg}`, '_blank');
        }
    </script>
</body>
</html>
